// Translation system for TheGenAI website
const translations = {
    en: {
        // Meta tags
        'page-title': 'TheGenAI - AI Solutions for Business',
        'page-description': 'TheGenAI creates innovative AI solutions for businesses and individuals. Transforming ideas into intelligent technology.',
        'og-title': 'TheGenAI - AI Solutions for Business',
        'og-description': 'TheGenAI creates innovative AI solutions for businesses and individuals. Transforming ideas into intelligent technology.',
        'twitter-title': 'TheGenAI - AI Solutions for Business',
        'twitter-description': 'TheGenAI creates innovative AI solutions for businesses and individuals. Transforming ideas into intelligent technology.',
        
        // Navigation
        'nav.home': 'Home',
        'nav.about': 'About',
        'nav.services': 'Services',
        'nav.portfolio': 'Portfolio',
        'nav.contact': 'Contact',
        
        // Hero section
        'hero.title': 'AI Solutions That Transform Business',
        'hero.subtitle': 'We create intelligent technology that empowers businesses and individuals to achieve extraordinary results.',
        'hero.btn.explore': 'Explore Solutions',
        'hero.btn.portfolio': 'View Portfolio',
        
        // About section
        'about.title': 'About TheGenAI',
        'about.subtitle': 'We\'re passionate about creating AI solutions that make a real difference',
        'about.heading': 'Transforming Ideas into Intelligence',
        'about.text1': 'At TheGenAI, we specialize in developing cutting-edge artificial intelligence solutions tailored to meet the unique needs of businesses and individuals. Our team combines deep technical expertise with a deep understanding of real-world challenges.',
        'about.text2': 'From machine learning algorithms to natural language processing, we create intelligent systems that enhance productivity, improve decision-making, and drive innovation across various industries.',
        'about.stats.projects': 'Projects Completed',
        'about.stats.clients': 'Happy Clients',
        'about.stats.experience': 'Years Experience',
        
        // Services section
        'services.title': 'Our AI Solutions',
        'services.subtitle': 'Comprehensive AI services designed to accelerate your business growth',
        'services.ml.title': 'Machine Learning',
        'services.ml.description': 'Custom ML models that learn from your data to make intelligent predictions and automate complex processes.',
        'services.nlp.title': 'Natural Language Processing',
        'services.nlp.description': 'Advanced NLP solutions for text analysis, sentiment detection, and automated content generation.',
        'services.cv.title': 'Computer Vision',
        'services.cv.description': 'Image and video analysis systems that can recognize patterns, objects, and behaviors with high accuracy.',
        'services.consulting.title': 'AI Consulting',
        'services.consulting.description': 'Strategic guidance to help you identify AI opportunities and develop a comprehensive AI roadmap.',
        
        // Portfolio section
        'portfolio.title': 'Featured Portfolio',
        'portfolio.subtitle': 'Real-world AI solutions that deliver measurable results',
        'portfolio.woonprijs.title': 'Woonprijs.nl',
        'portfolio.woonprijs.category': 'Real Estate AI Platform',
        'portfolio.woonprijs.description': 'Developed a comprehensive AI-powered property valuation platform that aggregates multiple data sources to provide accurate price estimates, neighborhood demographics, and intelligent bidding advice for the Dutch real estate market.',
        'portfolio.wheretoinvest.title': 'WhereToInvest.nl',
        'portfolio.wheretoinvest.category': 'Investment Analysis Platform',
        'portfolio.wheretoinvest.description': 'An advanced AI-driven platform for real estate investors that analyzes market trends, rental yields, and property appreciation potential to identify the best investment opportunities in the Netherlands.',
        'portfolio.btn.view': 'View Project',
        
        // Contact section
        'contact.title': 'Ready to Transform Your Business?',
        'contact.subtitle': 'Let\'s discuss how AI can accelerate your growth',
        'contact.info.title': 'Get in Touch',
        'contact.info.description': 'We\'re always excited to work on new projects and help businesses leverage the power of artificial intelligence.',
        'contact.form.name': 'Your Name',
        'contact.form.email': 'Your Email',
        'contact.form.company': 'Company Name',
        'contact.form.message': 'Tell us about your project',
        'contact.form.submit': 'Send Message',
        
        // Footer
        'footer.description': 'Creating intelligent solutions for tomorrow\'s challenges.',
        'footer.services.title': 'Services',
        'footer.company.title': 'Company',
        'footer.copyright': 'Â© 2026 TheGenAI. All rights reserved.'
    },
    
    nl: {
        // Meta tags
        'page-title': 'TheGenAI - AI Oplossingen voor Bedrijven',
        'page-description': 'TheGenAI ontwikkelt innovatieve AI-oplossingen voor bedrijven en particulieren. We transformeren ideeÃ«n in intelligente technologie.',
        'og-title': 'TheGenAI - AI Oplossingen voor Bedrijven',
        'og-description': 'TheGenAI ontwikkelt innovatieve AI-oplossingen voor bedrijven en particulieren. We transformeren ideeÃ«n in intelligente technologie.',
        'twitter-title': 'TheGenAI - AI Oplossingen voor Bedrijven',
        'twitter-description': 'TheGenAI ontwikkelt innovatieve AI-oplossingen voor bedrijven en particulieren. We transformeren ideeÃ«n in intelligente technologie.',
        
        // Navigation
        'nav.home': 'Home',
        'nav.about': 'Over Ons',
        'nav.services': 'Diensten',
        'nav.portfolio': 'Portfolio',
        'nav.contact': 'Contact',
        
        // Hero section
        'hero.title': 'AI Oplossingen Die Bedrijven Transformeren',
        'hero.subtitle': 'We ontwikkelen intelligente technologie die bedrijven en particulieren helpt om buitengewone resultaten te behalen.',
        'hero.btn.explore': 'Ontdek Oplossingen',
        'hero.btn.portfolio': 'Bekijk Portfolio',
        
        // About section
        'about.title': 'Over TheGenAI',
        'about.subtitle': 'We zijn gepassioneerd over het creÃ«ren van AI-oplossingen die echt verschil maken',
        'about.heading': 'IdeeÃ«n Omzetten in Intelligentie',
        'about.text1': 'Bij TheGenAI specialiseren we ons in het ontwikkelen van geavanceerde kunstmatige intelligentie-oplossingen die zijn afgestemd op de unieke behoeften van bedrijven en particulieren. Ons team combineert diepgaande technische expertise met een diep begrip van uitdagingen in de echte wereld.',
        'about.text2': 'Van machine learning algoritmes tot natuurlijke taalverwerking, we creÃ«ren intelligente systemen die productiviteit verhogen, besluitvorming verbeteren en innovatie stimuleren in verschillende industrieÃ«n.',
        'about.stats.projects': 'Projecten Voltooid',
        'about.stats.clients': 'Tevreden Klanten',
        'about.stats.experience': 'Jaar Ervaring',
        
        // Services section
        'services.title': 'Onze AI Oplossingen',
        'services.subtitle': 'Uitgebreide AI-diensten ontworpen om uw bedrijfsgroei te versnellen',
        'services.ml.title': 'Machine Learning',
        'services.ml.description': 'Aangepaste ML-modellen die leren van uw gegevens om intelligente voorspellingen te maken en complexe processen te automatiseren.',
        'services.nlp.title': 'Natuurlijke Taalverwerking',
        'services.nlp.description': 'Geavanceerde NLP-oplossingen voor tekstanalyse, sentimentdetectie en geautomatiseerde contentgeneratie.',
        'services.cv.title': 'Computer Vision',
        'services.cv.description': 'Beeld- en videoanalysesystemen die patronen, objecten en gedragingen met hoge nauwkeurigheid kunnen herkennen.',
        'services.consulting.title': 'AI Advies',
        'services.consulting.description': 'Strategische begeleiding om u te helpen AI-mogelijkheden te identificeren en een uitgebreide AI-roadmap te ontwikkelen.',
        
        // Portfolio section
        'portfolio.title': 'Uitgelicht Portfolio',
        'portfolio.subtitle': 'AI-oplossingen uit de echte wereld die meetbare resultaten opleveren',
        'portfolio.woonprijs.title': 'Woonprijs.nl',
        'portfolio.woonprijs.category': 'AI Platform voor Vastgoed',
        'portfolio.woonprijs.description': 'Ontwikkeld een uitgebreid AI-aangedreven vastgoedwaarderingplatform dat meerdere gegevensbronnen samenbrengt om nauwkeurige prijsschattingen, buurtdemografie en intelligente biedingsadviezen te bieden voor de Nederlandse vastgoedmarkt.',
        'portfolio.wheretoinvest.title': 'WhereToInvest.nl',
        'portfolio.wheretoinvest.category': 'Investeringsanalyse Platform',
        'portfolio.wheretoinvest.description': 'Een geavanceerd AI-gestuurd platform voor vastgoedbeleggers dat markttrends, huuropbrengsten en waardestijgingspotentieel analyseert om de beste investeringsmogelijkheden in Nederland te identificeren.',
        'portfolio.btn.view': 'Bekijk Project',
        
        // Contact section
        'contact.title': 'Klaar om Uw Bedrijf te Transformeren?',
        'contact.subtitle': 'Laten we bespreken hoe AI uw groei kan versnellen',
        'contact.info.title': 'Neem Contact Op',
        'contact.info.description': 'We zijn altijd enthousiast om aan nieuwe projecten te werken en bedrijven te helpen de kracht van kunstmatige intelligentie te benutten.',
        'contact.form.name': 'Uw Naam',
        'contact.form.email': 'Uw E-mail',
        'contact.form.company': 'Bedrijfsnaam',
        'contact.form.message': 'Vertel ons over uw project',
        'contact.form.submit': 'Verstuur Bericht',
        
        // Footer
        'footer.description': 'Intelligente oplossingen creÃ«ren voor de uitdagingen van morgen.',
        'footer.services.title': 'Diensten',
        'footer.company.title': 'Bedrijf',
        'footer.copyright': 'Â© 2026 TheGenAI. Alle rechten voorbehouden.'
    }
};

// Language detection and translation system
class TranslationManager {
    constructor() {
        this.currentLanguage = this.detectLanguage();
        this.init();
    }
    
    detectLanguage() {
        // Check URL parameter first
        const urlParams = new URLSearchParams(window.location.search);
        const urlLang = urlParams.get('lang');
        if (urlLang && translations[urlLang]) {
            return urlLang;
        }
        
        // Check browser language
        const browserLang = navigator.language || navigator.userLanguage;
        if (browserLang.startsWith('nl')) {
            return 'nl';
        }
        
        // Default to English
        return 'en';
    }
    
    init() {
        this.applyLanguage(this.currentLanguage);
        this.updateMetaTags();
        this.updateStructuredData();
        this.addLanguageToggle();
    }
    
    applyLanguage(lang) {
        this.currentLanguage = lang;
        
        // Update HTML lang attribute
        document.getElementById('html-lang').setAttribute('lang', lang);
        
        // Update all translatable elements
        const elements = document.querySelectorAll('[data-translate]');
        elements.forEach(element => {
            const key = element.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
                element.textContent = translations[lang][key];
            }
        });
        
        // Update placeholder attributes
        const inputs = document.querySelectorAll('input[data-translate], textarea[data-translate]');
        inputs.forEach(input => {
            const key = input.getAttribute('data-translate');
            if (translations[lang] && translations[lang][key]) {
                input.setAttribute('placeholder', translations[lang][key]);
            }
        });
        
        // Store language preference
        localStorage.setItem('thegenai-language', lang);
    }
    
    updateMetaTags() {
        const lang = this.currentLanguage;
        
        // Update page title
        document.getElementById('page-title').textContent = translations[lang]['page-title'];
        document.title = translations[lang]['page-title'];
        
        // Update meta description
        document.getElementById('page-description').setAttribute('content', translations[lang]['page-description']);
        
        // Update Open Graph tags
        document.getElementById('og-title').setAttribute('content', translations[lang]['og-title']);
        document.getElementById('og-description').setAttribute('content', translations[lang]['og-description']);
        
        // Update Twitter tags
        document.getElementById('twitter-title').setAttribute('content', translations[lang]['twitter-title']);
        document.getElementById('twitter-description').setAttribute('content', translations[lang]['twitter-description']);
        
        // Update language meta tag
        const languageMeta = document.querySelector('meta[name="language"]');
        if (languageMeta) {
            languageMeta.setAttribute('content', lang);
        }
        
        // Update Open Graph locale
        const ogLocale = document.querySelector('meta[property="og:locale"]');
        if (ogLocale) {
            ogLocale.setAttribute('content', lang === 'nl' ? 'nl_NL' : 'en_US');
        }
    }
    
    updateStructuredData() {
        const lang = this.currentLanguage;
        const structuredData = document.getElementById('structured-data');
        
        if (structuredData) {
            const data = JSON.parse(structuredData.textContent);
            data.description = translations[lang]['page-description'];
            
            // Update structured data with translated content
            structuredData.textContent = JSON.stringify(data);
        }
    }
    
    addLanguageToggle() {
        // Create language toggle button
        const toggle = document.createElement('button');
        toggle.className = 'language-toggle';
        toggle.innerHTML = this.currentLanguage === 'nl' ? 'ðŸ‡ºðŸ‡¸ EN' : 'ðŸ‡³ðŸ‡± NL';
        toggle.title = this.currentLanguage === 'nl' ? 'Switch to English' : 'Schakel naar Nederlands';
        
        // Add styles
        toggle.style.cssText = `
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(102, 126, 234, 0.9);
            backdrop-filter: blur(20px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            border-radius: 16px;
            padding: 12px 20px;
            color: white;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            z-index: 10000;
            transition: all 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        `;
        
        // Add hover effect
        toggle.addEventListener('mouseenter', () => {
            toggle.style.background = 'rgba(102, 126, 234, 1)';
            toggle.style.transform = 'translateY(-3px) scale(1.05)';
            toggle.style.boxShadow = '0 12px 40px rgba(0, 0, 0, 0.3)';
        });
        
        toggle.addEventListener('mouseleave', () => {
            toggle.style.background = 'rgba(102, 126, 234, 0.9)';
            toggle.style.transform = 'translateY(0) scale(1)';
            toggle.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.2)';
        });
        
        // Add click handler
        toggle.addEventListener('click', () => {
            const newLang = this.currentLanguage === 'nl' ? 'en' : 'nl';
            this.switchLanguage(newLang);
        });
        
        document.body.appendChild(toggle);
        
        // Add scroll-based visibility enhancement
        this.addScrollEnhancement(toggle);
    }
    
    addScrollEnhancement(toggle) {
        let scrollTimeout;
        
        window.addEventListener('scroll', () => {
            // Add scrolled class for enhanced visibility
            if (window.scrollY > 100) {
                toggle.classList.add('scrolled');
            } else {
                toggle.classList.remove('scrolled');
            }
            
            // Temporarily enhance visibility during scroll
            toggle.style.transform = 'scale(1.1)';
            toggle.style.boxShadow = '0 12px 40px rgba(0, 0, 0, 0.4)';
            
            // Clear existing timeout
            clearTimeout(scrollTimeout);
            
            // Reset after scroll stops
            scrollTimeout = setTimeout(() => {
                if (!toggle.classList.contains('scrolled')) {
                    toggle.style.transform = 'scale(1)';
                    toggle.style.boxShadow = '0 8px 32px rgba(0, 0, 0, 0.2)';
                }
            }, 150);
        });
    }
    
    switchLanguage(lang) {
        // Update URL without page reload
        const url = new URL(window.location);
        url.searchParams.set('lang', lang);
        window.history.pushState({}, '', url);
        
        // Apply new language
        this.applyLanguage(lang);
        this.updateMetaTags();
        this.updateStructuredData();
        
        // Update language toggle
        const toggle = document.querySelector('.language-toggle');
        if (toggle) {
            toggle.innerHTML = lang === 'nl' ? 'ðŸ‡ºðŸ‡¸ EN' : 'ðŸ‡³ðŸ‡± NL';
            toggle.title = lang === 'nl' ? 'Switch to English' : 'Schakel naar Nederlands';
        }
        
        // Show notification
        this.showLanguageNotification(lang);
        
        // Track language change with analytics
        if (typeof analytics !== 'undefined') {
            analytics.logEvent('language_change', {
                new_language: lang,
                previous_language: this.currentLanguage
            });
        }
    }
    
    showLanguageNotification(lang) {
        const message = lang === 'nl' ? 'Taal gewijzigd naar Nederlands' : 'Language changed to English';
        this.showNotification(message);
    }
    
    showNotification(message) {
        // Remove existing notifications
        const existingNotification = document.querySelector('.language-notification');
        if (existingNotification) {
            existingNotification.remove();
        }
        
        // Create notification element
        const notification = document.createElement('div');
        notification.className = 'language-notification';
        notification.textContent = message;
        
        // Add styles
        notification.style.cssText = `
            position: fixed;
            top: 120px;
            right: 20px;
            background: rgba(102, 126, 234, 0.9);
            backdrop-filter: blur(10px);
            color: white;
            padding: 12px 20px;
            border-radius: 12px;
            font-weight: 500;
            font-size: 14px;
            z-index: 10000;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
            transform: translateX(100%);
            transition: transform 0.3s ease;
        `;
        
        document.body.appendChild(notification);
        
        // Animate in
        setTimeout(() => {
            notification.style.transform = 'translateX(0)';
        }, 100);
        
        // Auto remove after 3 seconds
        setTimeout(() => {
            notification.style.transform = 'translateX(100%)';
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 300);
        }, 3000);
    }
}

// Initialize translation system when DOM is loaded
document.addEventListener('DOMContentLoaded', () => {
    new TranslationManager();
});

// Handle browser back/forward navigation
window.addEventListener('popstate', () => {
    const urlParams = new URLSearchParams(window.location.search);
    const lang = urlParams.get('lang') || 'en';
    if (window.translationManager) {
        window.translationManager.applyLanguage(lang);
    }
});
